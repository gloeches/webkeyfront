<div class="container">
    <div class="row">
        <h2 class="text-center">List of customer Companies {{message}} Layout</h2>
    </div>
</div>

<div class="d-flex justify-content-center p-2 bd-highlight">
    <div class="p-2">
        <label for="Company Name">Company Name: </label>
    </div>
    <div class="p-2">
        <input id="Company Name" #enterpriseName>
    </div>
    <div class="p-1">
        <button class="btn btn-info p-2" type ="button" (click)="getEnterprisesLikeName(enterpriseName.value)">
            <span> Filter by name</span>
        </button>
    </div>
    <div class="p-1">
        <button class="btn btn-info p-2" type ="button" (click)="createEnterprise()">
            <span> Create Enterprise</span>
        </button>
    </div>
   
</div>
<div *ngIf="selectedEnterprise">
    <h2>{{selectedEnterprise.name | uppercase}} Details</h2>
    <div>id: {{selectedEnterprise.id}}</div>
    <div>
      <label for="Company Name">Company Name: </label>
      <input id="Company Name" [(ngModel)]="selectedEnterprise.name" placeholder="name">
    </div>
    <div>
        <label for="Company Leader">Company Leader: </label>
        <input id="Company Leader" [(ngModel)]="selectedEnterprise.projectLeader" placeholder="name">
      </div>
</div>

<div class="container-sm">
    <div class="row">
        <table class="table table-striped">
            <thead>
                <tr>
                    
                    <th data-field="nane" data-width="50" class="text-center">Company Name </th>
                    <th class="text-center">Project leader</th>
                    <th class="text-center">File</th>
                    <th class="text-center">Company</th>
                    <th class="text-center">Keypass</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let enterprise  of enterprises">
                    
          <!--          <td data-field="nane" data-width="50">{{ enterprise.name }}</td>   -->
          <!--          <td>
                        <a class="edit"(click)="downloadFile(enterprise.id)">{{ enterprise.name }}</a>
                    </td>
            -->
                    <td>
                        <a href="#" [routerLink]="['/enterprises/',enterprise.id]" class="edit">{{ enterprise.name }}</a>
                    </td>
                    <td class="text-center">{{ enterprise.projectLeader }}</td>
                    <td class="text-center">
                        <a class="edit"(click)="downloadFile(enterprise.id,enterprise.filePath)" *ngIf="enterprise.filePath"><i class="material-icons" data-toggle="tooltip" title="Download File">file_download </i></a>
                    </td>
                    <td class="text-center"> 
                <!--     <a href="#" [routerLink]="['/enterprises/',enterprise.id]" class="edit"><i class="material-icons" data-toggle="tooltip" title="edit Company">edit </i></a>  --> 
                        <a class="edit"(click)="deleteEnterprise(enterprise)"><i class="material-icons" data-toggle="tooltip" title="delete Company">delete_forever </i></a>
        
                    </td>
                    <td>
        <!--              <a href="#" [routerLink]="['/enterprises/',enterprise.id,'keypass']" class="btn btn-info">View</a>
                        <a href="#" [routerLink]="['/enterprise/',enterprise.id,'createKeypass']" class="btn btn-info">Add Key</a>   --> 
                        <a *ngIf="message=='ADMIN'" href="#" [routerLink]="['/enterprises/',enterprise.id,'keypass',message]" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="View list of keypass">visibility</i></a>
                        <a *ngIf="message!=='ADMIN'" href="#" [routerLink]="['/enterprises/',enterprise.id,'keypass',message]" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="View ACE Keypass">visibility</i></a>
                        <a href="#" [routerLink]="['/enterprises/',enterprise.id,'createkeypass',0]" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Add keypass">add_to_photos</i></a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>
